{"version":3,"file":"dbox.js","sources":["../../../dboxjs/layer-scaffold/layer-plain-d3.js","../../../dboxjs/core/index.dev.js"],"sourcesContent":["import * as d3 from 'd3';\n\n/*\n * Simple Layer Chart\n */\nexport default function () {\n  // Link Layer to the helper object in helper.js\n  const Layer = {};\n\n  Layer.config = function config() {\n    const vm = this;\n\n    vm.margin = {\n      top: 20, right: 20, bottom: 30, left: 40,\n    };\n    vm.width = 960 - vm.margin.left - vm.margin.right;\n    vm.height = 500 - vm.margin.top - vm.margin.bottom;\n\n    vm.scales();\n  };\n\n  Layer.scales = function scales() {\n    const vm = this;\n\n    vm.x = d3.scaleBand()\n      .range([0, vm.width])\n      .padding(0.1);\n\n    vm.y = d3.scaleLinear()\n      .range([vm.height, 0]);\n  };\n\n  Layer.chart = function chart() {\n    const vm = this;\n    // append the svg object to the body of the page\n    // append a 'group' element to 'svg'\n    // moves the 'group' element to the top left margin\n    const svg = d3.select('body').append('svg')\n      .attr('width', vm.width + vm.margin.left + vm.margin.right)\n      .attr('height', vm.height + vm.margin.top + vm.margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${vm.margin.left}, ${vm.margin.top})`);\n\n    return svg;\n  };\n\n  // User called\n  Layer.data = function data(dat) {\n    const vm = this;\n    // format the data\n    dat.forEach((d) => {\n      d.y = +d.y;\n    });\n\n    vm._data = dat;\n\n    // Scale the range of the data in the domains\n    vm.x.domain(dat.map(d => d.x));\n    vm.y.domain([0, d3.max(dat, d => d.y)]);\n\n    return vm;\n  };\n\n  Layer.draw = function draw() {\n    const vm = this;\n    // append the rectangles for the bar chart\n    const svg = vm.chart();\n\n    svg.selectAll('.bar')\n      .data(vm._data)\n      .enter().append('rect')\n      .attr('class', 'bar')\n      .attr('x', d => vm.x(d.x))\n      .attr('width', vm.x.bandwidth())\n      .attr('y', d => vm.y(d.y))\n      .attr('height', d => vm.height - vm.y(d.y));\n\n    // add the x Axis\n    svg.append('g')\n      .attr('transform', `translate(0,${vm.height})`)\n      .call(d3.axisBottom(vm.x));\n\n    // add the y Axis\n    svg.append('g')\n      .call(d3.axisLeft(vm.y));\n\n    return vm;\n  };\n\n  Layer.config();\n\n  return Layer;\n}\n","/*\n * Dboxjs\n *\n * You can import other modules here, including external packages. When\n * bundling using rollup you can mark those modules as external and have them\n * excluded or, if they have a jsnext:main entry in their package.json (like\n * this package does), let rollup bundle them into your dist file.\n */\n\n/* Plain D3 Layer */\nexport {\n  default as layer,\n} from '../layer-scaffold/layer-plain-d3';\n"],"names":["Layer","config","vm","margin","top","right","bottom","left","width","height","scales","x","d3","range","padding","y","chart","svg","append","attr","data","dat","forEach","d","_data","domain","map","draw","selectAll","enter","bandwidth","call"],"mappings":"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"}